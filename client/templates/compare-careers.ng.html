
<div class="container col-xs-10 col-xs-offset-1">

<!-- SIDEBAR -->

  <div ng-include="'client/templates/sidebar.ng.html'"></div>

<!-- MAIN -->

  <div class="col-xs-9">
    
    <!-- CAREER COMPARISON -->

    <div class="compare">

      <div class="card">

        <!-- HEADER -->
        <div class="row">
          <h2 class="cardTitle col-xs-10 col-xs-offset-1">Compare Careers</h2>
        </div>

        <!-- TITLES -->
        <div class="row">
          <div class="col-xs-6">
            <a ui-sref="careerView({careerId: career1._id})" ng-click="viewCareer(career1.standardized_title, career1._id)">
            <h3>{{career1.standardized_title}}</h3>
            </a>
          </div>
          <div class="col-xs-6">
            <a ui-sref="careerView({careerId: career2._id})" ng-click="viewCareer(career2.standardized_title, career2._id)">
            <h3>{{career2.standardized_title}}</h3>
            </a>
          </div>
        </div>

        <!-- ACTIVITIES -->
        <div class="row">
          <div class="col-xs-12">
            <h5 class="anchor" id="anchor-activities">ACTIVITIES</h5>
          </div>

          <!-- Left Column -->
          <div class="col-xs-6 subSection border-right col-left" ng-init="activityLimit = 3">
            <ul>
              <li ng-repeat="activity in career1.work_activities.activities | limitTo: activityLimit" class="longListItem">
                {{activity}}
              </li>
            </ul>
            <a role="button" class="showMoreCareerInfo" ng-hide="career1.work_activities.activities.length <= activityLimit" ng-click="activityLimit = 30">
              show all activities
              <span class="fa fa-chevron-down"></span>
            </a>
            <a href="#anchor-activities" role="button" class="showMoreCareerInfo" ng-show="activityLimit == 30" ng-click="activityLimit = 3">
              show fewer activities
              <span class="fa fa-chevron-up"></span>
            </a>
          </div>

          <!-- Right Column -->
          <div class="col-xs-6 subSection border-left col-right" ng-init="activityLimit = 3">
            <ul>
              <li ng-repeat="activity in career2.work_activities.activities | limitTo: activityLimit" class="longListItem">
                {{activity}}
              </li>
            </ul>
            <a role="button" class="showMoreCareerInfo" ng-hide="career2.work_activities.activities.length <= activityLimit" ng-click="activityLimit = 30">
              show all activities
              <span class="fa fa-chevron-down"></span>
            </a>  
            <a href="#anchor-activities" role="button" class="showMoreCareerInfo" ng-show="activityLimit == 30" ng-click="activityLimit = 3">
              show fewer activities
              <span class="fa fa-chevron-up"></span>
            </a>
          </div>

        </div>

        <!-- SKILLS -->
        <div class="row">
          <div class="col-xs-12">
            <h5>SKILLS</h5>
          </div>

          <!-- Left Column -->
          <div class="col-xs-4 subSection text-center">
            <h4>{{career1.standardized_title}}</h4>
            <ul>
                <li ng-repeat="skill in skills1">
                  {{skill}}</li>
            </ul>
          </div>

          <!-- Middle Column -->
          <div class="col-xs-4 subSection text-center" ng-init="intersection = skillIntersection(career1.skills, career2.skills)">
            <h4>Both Careers</h4>
            <ul>
                <li ng-repeat="skill in skillsIntersect">
                  {{skill}}</li>
            </ul>
          </div>

          <!-- Right Column -->
          <div class="col-xs-4 subSection text-center">
            <h4>{{career2.standardized_title}}</h4>
            <ul>
                <li ng-repeat="skill in skills2">
                  {{skill}}</li>
            </ul>
          </div>

        </div>

        <!-- CATEGORIES -->
        <div class="row">
          <div class="col-xs-12">
            <h5>CATEGORIES</h5>
          </div>

          <!-- Left Column -->
          <div class="col-xs-4 subSection text-center">
            <h4>{{career1.standardized_title}}</h4>
            <ul>
                <li ng-repeat="category in categories1">
                  <a class="categoryTag colorTransFast" ng-click="setQuery(category.name)" aria-label="search for {{category.name}}" ui-sref="results({queryString: category})">
                    {{category}}
                  </a>   
                </li>
            </ul>
          </div>

          <!-- Middle Column -->
          <div class="col-xs-4 subSection text-center" ng-init="intersection = skillIntersection(career1.skills, career2.skills)">
            <h4>Both Careers</h4>
            <ul>
                <li ng-repeat="category in categoriesIntersect">
                  <a class="categoryTag colorTransFast" ng-click="setQuery(category.name)" aria-label="search for {{category.name}}" ui-sref="results({queryString: category})">
                    {{category}}
                  </a>   
                </li>
                <li class="noOnetCompare" ng-if="categoriesIntersect == 0">
                  <div>
                    The job postings aggregated for these careers did not share any categories
                  </div>
                </li>
            </ul>
          </div>

          <!-- Right Column -->
          <div class="col-xs-4 subSection text-center">
            <h4>{{career2.standardized_title}}</h4>
            <ul>
                <li ng-repeat="category in categories2">
                  <a class="categoryTag colorTransFast" ng-click="setQuery(category.name)" aria-label="search for {{category.name}}" ui-sref="results({queryString: category})">
                    {{category}}
                  </a>   
                </li>
            </ul>
          </div>


        </div>

        <!-- WORK CONTEXT -->
        <div class="row">
          <div class="col-xs-12">
            <h5 class="anchor" id="anchor-context">WORK CONTEXT</h5>
          </div>

          <!-- Left Column -->
          <div class="col-xs-6 subSection border-right col-left" ng-init="contextLimit = 4" ng-hide="onetIsNull(career1.onet_titles[0].name)">
            <ul>
              <li ng-repeat="context in career1.work_context.top_work_contexts | limitTo: contextLimit" class="longListItem">
                {{context}}</li>
            </ul>
            <a role="button" class="showMoreCareerInfo" ng-hide="career1.work_context.top_work_contexts.length <= contextLimit" ng-click="contextLimit = 20">
              show more
              <span class="fa fa-chevron-down"></span>
            </a>
            <a href="#anchor-context" role="button" class="showMoreCareerInfo" ng-show="contextLimit == 20" ng-click="contextLimit = 4">
              show less
              <span class="fa fa-chevron-up"></span>
            </a>
          </div>

          <div class="col-xs-6 border-right noOnetCompare col-left" ng-show="onetIsNull(career1.onet_titles[0].name)">
            <div>
              <h5>Sorry, we don't have this data</h5>
              <p>We get this kind of data from the government's
                <a href="http://www.onetonline.org/" target="_blank">O*Net Online</a> resource. 
                Unfortunately, the government isn't collecting data for <strong>{{career1.standardized_title}}</strong>.</p>
            </div>
          </div>

          <!-- Right Column -->
          <div class="col-xs-6 subSection border-left col-right" ng-init="contextLimit = 4" ng-hide="onetIsNull(career2.onet_titles[0].name)">
            <ul>
              <li ng-repeat="context in career2.work_context.top_work_contexts | limitTo: contextLimit" class="longListItem">
                {{context}}</li>
            </ul>
            <a role="button" class="showMoreCareerInfo" ng-hide="career2.work_context.top_work_contexts.length <= contextLimit" ng-click="contextLimit = 20">
              show more
              <span class="fa fa-chevron-down"></span>
            </a>
            <a href="#anchor-context" role="button" class="showMoreCareerInfo" ng-show="contextLimit == 20" ng-click="contextLimit = 4">
              show less
              <span class="fa fa-chevron-up"></span>
            </a>
          </div>

          <div class="col-xs-6 border-left noOnetCompare col-right" ng-show="onetIsNull(career2.onet_titles[0].name)">
            <div>
              <h5>Sorry, we don't have this data</h5>
              <p>We get this kind of data from the government's
                <a href="http://www.onetonline.org/" target="_blank">O*Net Online</a> resource. 
                Unfortunately, the government isn't collecting data for <strong>{{career2.standardized_title}}</strong>.</p>
            </div>
          </div>

        </div>

        <!-- SALARY -->
        <div class="row">
          <div class="col-xs-12">
            <h5>AVERAGE SALARY</h5>
          </div>

          <!-- Left column -->
          <div class="col-xs-6 subSection border-right col-left" ng-hide="onetIsNull(career1.onet_titles[0].name)">
            <table ng-hide="onetIsNull(career1.onet_titles[0].name)">
                <tr>
                  <td width="100px" class="text-right chart-text-table-col">SF Bay Area</td>
                  <td class="chart-bar-table-col">
                    <svg width = "{{getSalaryWidth(career1.salary.annual_salary_bay_area)}}" height="14">
                        <rect width = "{{getSalaryWidth(career1.salary.annual_salary_bay_area)}}" height="100" style="fill:#3071a9" />
                    </svg>
                    <span><small>{{career1.salary.annual_salary_bay_area | currency}}</small></span>
                  </td>
                </tr>

                <tr>
                  <td width="100px" class="text-right chart-text-table-col">California</td>
                  <td class="chart-bar-table-col">
                    <svg  width = "{{getSalaryWidth(career1.salary.annual_salary_ca)}}" height="14">
                      <rect  width = "{{getSalaryWidth(career1.salary.annual_salary_ca)}}" height="100" style="fill:gray" />
                  </svg>
                  <span><small>{{career1.salary.annual_salary_ca | currency}}</small></span>
                  </td>
                </tr>
              </table>

          </div>

          <div class="col-xs-6 border-right noOnetCompare col-left" ng-show="onetIsNull(career1.onet_titles[0].name)">
            <div>
              <h5>Sorry, we don't have this data</h5>
              <p>We get this kind of data from the government's
                <a href="http://www.onetonline.org/" target="_blank">O*Net Online</a> resource. 
                Unfortunately, the government isn't collecting data for <strong>{{career1.standardized_title}}</strong>.</p>
            </div>
          </div>

          <!-- Right Column -->
          <div class="col-xs-6 subSection border-left col-right" ng-hide="onetIsNull(career2.onet_titles[0].name)">
            <table ng-hide="onetIsNull(career2.onet_titles[0].name)">
                <tr>
                  <td width="100px" class="text-right chart-text-table-col">SF Bay Area</td>
                  <td class="chart-bar-table-col">
                    <svg width = "{{getSalaryWidth(career2.salary.annual_salary_bay_area)}}" height="14">
                        <rect width = "{{getSalaryWidth(career2.salary.annual_salary_bay_area)}}" height="100" style="fill:#3071a9" />
                    </svg>
                    <span><small>{{career2.salary.annual_salary_bay_area | currency}}</small></span>
                  </td>
                </tr>

                <tr>
                  <td width="100px" class="text-right chart-text-table-col">California</td>
                  <td class="chart-bar-table-col">
                    <svg  width = "{{getSalaryWidth(career2.salary.annual_salary_ca)}}" height="14">
                      <rect  width = "{{getSalaryWidth(career2.salary.annual_salary_ca)}}" height="100" style="fill:gray" />
                  </svg>
                  <span><small>{{career2.salary.annual_salary_ca | currency}}</small></span>
                  </td>
                </tr>
              </table>
          </div>

          <div class="col-xs-6 border-left noOnetCompare col-right" ng-show="onetIsNull(career2.onet_titles[0].name)">
            <div>
              <h5>Sorry, we don't have this data</h5>
              <p>We get this kind of data from the government's
                <a href="http://www.onetonline.org/" target="_blank">O*Net Online</a> resource. 
                Unfortunately, the government isn't collecting data for <strong>{{career2.standardized_title}}</strong>.</p>
            </div>
          </div>

        </div>

        <!-- EDUCATION -->
        <div class="row">
          <div class="col-xs-12">
            <h5>EDUCATION</h5>
          </div>

          <!-- Left Column -->
          <div class="col-xs-6 subSection border-right col-left" ng-hide="onetIsNull(career1.onet_titles[0].name)">
            <ul>
              <li ng-repeat="ed in career1.education | orderBy: 'order'" ng-show="ed.percent != null">
                <table>
                  <tr>
                    <td width="200px" class="text-right chart-text-table-col">{{ed.degree}}</td>
                    <td class="skill-bar-column">
                      <svg ng-bind-attrs= "{width: {{getEdWidth(ed.percent)}} }" height="14">
                        <rect ng-bind-attrs= "{width: {{getEdWidth(ed.percent)}} }" height="100" style="fill:#3071a9" />
                      </svg>
                      <span> <small>{{getRoundedPercent(ed.percent)}}%</small></span>
                    </td>
                  </tr>
                </table>
              </li>
            </ul>
          </div>

          <div class="col-xs-6 border-right noOnetCompare col-left" ng-show="onetIsNull(career1.onet_titles[0].name)">
            <div>
              <h5>Sorry, we don't have this data</h5>
              <p>We get this kind of data from the government's
                <a href="http://www.onetonline.org/" target="_blank">O*Net Online</a> resource. 
                Unfortunately, the government isn't collecting data for <strong>{{career1.standardized_title}}</strong>.</p>
            </div>
          </div>

          <!-- Right Column -->
          <div class="col-xs-6 subSection border-left col-right" ng-hide="onetIsNull(career2.onet_titles[0].name)">
            <ul>
              <li ng-repeat="ed in career2.education | orderBy: 'order'" ng-show="ed.percent != null">
                <table>
                  <tr>
                    <td width="200px" class="text-right chart-text-table-col">{{ed.degree}}</td>
                    <td class="skill-bar-column">
                      <svg ng-bind-attrs= "{width: {{getEdWidth(ed.percent)}} }" height="14">
                        <rect ng-bind-attrs= "{width: {{getEdWidth(ed.percent)}} }" height="100" style="fill:#3071a9" />
                      </svg>
                      <span> <small>{{getRoundedPercent(ed.percent)}}%</small></span>
                    </td>
                  </tr>
                </table>
              </li>
            </ul>
          </div>

          <div class="col-xs-6 border-left noOnetCompare col-right" ng-show="onetIsNull(career2.onet_titles[0].name)">
            <div>
              <h5>Sorry, we don't have this data</h5>
              <p>We get this kind of data from the government's
                <a href="http://www.onetonline.org/" target="_blank">O*Net Online</a> resource. 
                Unfortunately, the government isn't collecting data for <strong>{{career2.standardized_title}}</strong>.</p>
            </div>
          </div>

        </div>

        
      </div>
     
    </div>

  </div> 

</div>
