
<div class="container col-xs-10 col-xs-offset-1">

<!-- SIDEBAR -->

  <div ng-include="'client/templates/sidebar.ng.html'"></div>

<!-- MAIN -->

  <div class="col-xs-9 main results">

    <!-- PERSONALIZE RESULTS -->

    <div class="personalize">

      <accordion close-others="oneAtATime">
        <accordion-group is-open="status.open" >

          <accordion-heading ng-click="status.isFirstDisabled = ! status.isFirstDisabled">
           <div>
            <h5>Personalize Results</h5>
            <span class="fa" ng-class="{'fa-chevron-down': !status.open, 'fa-chevron-up': status.open}"></span>
           </div>
          </accordion-heading>

          <div class="col-xs-6 text-center border-right">
            <p>I'm interested in careers that involve:</p>
            <p>
              <span class="fa fa-chevron-circle-left fa-lg"></span>
              management
              <span class="fa fa-chevron-circle-right fa-lg"></span>
            </p>
            <button type="button" class="btn btn-default btn-sm">YES</button>
            <button type="button" class="btn btn-default btn-sm">NO</button>
          </div>

          <div class="col-xs-3 border-left personalizeInput">
            <h6>I'm Interested</h6>
            <ul>
              <li><a href="">management</a><span class="fa fa-times xRemove colorTransFast listIconTail" aria-label="remove" ng-click=""></span></li>
              <li><a href="">programming</a><span class="fa fa-times xRemove colorTransFast listIconTail" aria-label="remove" ng-click=""></span></li>
              <li><a href="">html</a><span class="fa fa-times xRemove colorTransFast listIconTail" aria-label="remove" ng-click=""></span></li>
              <li><a href="">design</a><span class="fa fa-times xRemove colorTransFast listIconTail" aria-label="remove" ng-click=""></span></li>
            </ul>
          </div>

          <div class="col-xs-3 personalizeInput">
            <h6>I'm Not Interested</h6>
            <ul>
              <li><a href="">consulting</a><span class="fa fa-times xRemove colorTransFast listIconTail" aria-label="remove" ng-click=""></span></li>
              <li><a href="">human resources</a><span class="fa fa-times xRemove colorTransFast listIconTail" aria-label="remove" ng-click=""></span></li>
              <li><a href="">marketing</a><span class="fa fa-times xRemove colorTransFast listIconTail" aria-label="remove" ng-click=""></span></li>
              <li><a href="">java</a><span class="fa fa-times xRemove colorTransFast listIconTail" aria-label="remove" ng-click=""></span></li>
            </ul>
          </div>

        </accordion-group>
      </accordion>

    </div>
    

    <div class="row">
        <div ng-if="resultsLoading" ng-include="'client/templates/loading.ng.html'"></div>
    </div>

    <!-- RESULTS -->

    <div class="row card" ng-if="!resultsLoading"> 

      <!-- SEARCH STATEMENT -->
      <div class="col-xs-12 resultsHeader resultBox">
        <h4 class="col-xs-12">Career profiles related to <strong>{{query}}</strong></h4>
        <span class="col-xs-12 small resultCount">
          Showing <strong>{{getNumDisplayed()}}</strong> of <strong>{{careers.length}}</strong> career profiles
        </span>
      </div>
      <div class="col-xs-12" dir-paginate="career in careers | itemsPerPage: numResultsDisplayed">

        <div class="resultBox">
          <h5 class="text-capitalize">
            <a ui-sref="careerView({careerId: career._id})" ng-click="viewCareer(career.standardized_title, career._id)">{{career.standardized_title}}</a>
            <span class="fa fa-thumb-tack pin colorTransFast" aria-label="pin this career" ng-class="{pinSelected: isPinned(career._id)}" ng-click="togglePinnedCareer(career.standardized_title, career._id)"></span>
          </h5>

          <div class="row">

            <div class="skills-wrapper col-xs-4">
              <h6>Top Skills</h6>
              <ul class="fa-ul">
                <li ng-repeat="skill in career.skills | limitTo: 4">
                  <span class="fa fa-li fa-angle-right fa-lg" ></span>
<!--                   <a ng-click="setQuery(skill.name)" aria-label="search for {{skill.name}}" ui-sref="results({queryString: queryStringURL})">
 -->                    
                  <a ng-click="getWikiData(skill.name)" data-toggle="modal" data-target="#wikiModal">
                    {{skill.name}}
                  </a>
                </li>
              </ul>
            </div>

            <div class="tags-wrapper col-xs-8">
              <h6>Top Categories</h6>
              <ul>
                <li ng-repeat="category in career.categories | limitTo: 5">
                  <a class="categoryTag colorTransFast" ng-click="setQuery(category.name)" aria-label="search for {{category.name}}" ui-sref="results({queryString: queryStringURL})">
                    {{category.name}}
                  </a></li>
              </ul>
            </div>

          </div>
        </div>

      </div>

      <div class="col-xs-12 small resultCount">
        Showing <strong>{{getNumDisplayed()}}</strong> of <strong>{{careers.length}}</strong> career profiles
      </div>
      
      <div class="showMoreResults colorTransFast center-block" role="button" ng-click="showMoreResults()" ng-hide="getNumDisplayed() === careers.length">
        <h6>show more</h6>
        <span class="fa fa-chevron-down"></span>
      </div>

    </div>
  </div>

</div>

<section>
<div class="modal fade" id="wikiModal" tabindex="-1" role="dialog" aria-labelledby="wikipediaModal" aria-hidden="true">
  <div class="modal-dialog">
  <div class="modal-content">
    <div>
      <div class="modal-header">
        <button type="button" class="close pull-right fug-close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <!-- <p class="lead">Add <span ng-class="currentColumn.datatype">{{ currentColumn.name }}</span> column to a question</p> -->
      </div>

      <div class="modal-body">
        {{wikiText}}
        <!-- <p ng-bind-html="wikiText"></p> -->
        
      </div>

      <div class="modal-footer">
       <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
       <button type="button" class="btn btn-primary" data-dismiss="modal">Done</button>
      </div>
    </div>
  </div>
  </div>
</div>
</section>






