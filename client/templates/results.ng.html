
<div class="container col-xs-10 col-xs-offset-1">

<!-- SIDEBAR -->

  <div ng-include="'client/templates/sidebar.ng.html'"></div>

<!-- MAIN -->

  <div class="col-xs-9 main results">

    <!-- LOADING SPINNER -->

    <div class="row">
        <div ng-if="resultsLoading" ng-include="'client/templates/loading.ng.html'"></div>
    </div>

    <!-- RESULTS -->

    <div class="row card" ng-if="!resultsLoading"> 

      <!-- SEARCH STATEMENT -->
      <div class="col-xs-12 resultBox">
        <span class="col-xs-12 resultsHeader">Career profiles related to <strong>{{query}}</strong></span>
        <span class="col-xs-12 small resultCount">
          Showing <strong>{{getNumDisplayed()}}</strong> of <strong>{{careers.length}}</strong> career profiles
        </span>
      </div>
      <div class="col-xs-12" dir-paginate="career in careers | itemsPerPage: numResultsDisplayed">

        <div class="resultBox">
          <h5 class="text-capitalize resultTitle">
            <a ui-sref="careerView({careerId: career._id})" ng-click="viewCareer(career.standardized_title, career._id)">{{career.standardized_title}}</a>
            <span class="fa fa-thumb-tack pin colorTransFast" aria-label="pin this career" ng-class="{pinSelected: isPinned(career._id)}" ng-click="togglePinnedCareer(career.standardized_title, career._id)"></span>
          </h5>

          <div class="row">

            <div class="skills-wrapper col-xs-4">
              <h5>Top Skills</h5>
              <ul class="fa-ul">
                <li ng-repeat="skill in career.skills | limitTo: 4">
                  <span class="fa fa-li fa-angle-right fa-lg" ></span>
                  <a ng-click="setQuery(skill.name)" aria-label="search for {{skill.name}}" ui-sref="results({queryString: queryStringURL})">
                    {{skill.name}}
                  </a>
                </li>
              </ul>
            </div>

            <div class="tags-wrapper col-xs-8">
              <h5>Top Categories</h5>
              <ul>
                <li ng-repeat="category in career.categories | limitTo: 5">
                  <a class="categoryTag colorTransFast" ng-click="setQuery(category.name)" aria-label="search for {{category.name}}" ui-sref="results({queryString: queryStringURL})">
                    {{category.name}}
                  </a></li>
              </ul>
            </div>

          </div>
        </div>

      </div>

      <div class="col-xs-12 small resultCount">
        Showing <strong>{{getNumDisplayed()}}</strong> of <strong>{{careers.length}}</strong> career profiles
      </div>
      
      <div class="showMoreResults colorTransFast center-block" role="button" ng-click="showMoreResults()" ng-hide="getNumDisplayed() === careers.length">
        show more
        <span class="fa fa-chevron-down fa-2x colorTransFast"></span>
      </div>

    </div>
  </div>

</div>
